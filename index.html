<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è²èª¿è»Šè»Š</title>
    <style>
        :root {
            --primary-color: #FF9F1C;
            --secondary-color: #2EC4B6;
            --bg-color: #CBF3F0;
            --ui-bg: #FFFFFF;
            --ai-color: #7B2CBF;
            --correct-color: #8AC926;
            --wrong-color: #FF595E;
            --footer-color: #666;
        }

        body {
            font-family: 'å¾®è»Ÿæ­£é»‘é«”', sans-serif;
            background-color: var(--bg-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            padding: 10px;
            user-select: none;
            overflow-x: hidden;
            min-height: 100vh;
        }

        #user-logo {
            max-width: 120px;
            max-height: 60px;
            margin-bottom: 5px;
            display: none; 
        }

        h1 {
            color: #333;
            margin: 5px 0;
            font-size: 1.8rem;
            text-align: center;
        }

        .canvas-container {
            position: relative;
            background: var(--ui-bg);
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 5px;
            border: 3px solid white;
            width: 95%;
            max-width: 700px;
            aspect-ratio: 2 / 1;
        }

        canvas {
            border-radius: 8px;
            background: linear-gradient(to bottom, #ffffff 0%, #f0f8ff 100%);
            display: block;
            width: 100%;
            height: 100%;
        }

        #input-section {
            margin-top: 10px;
            background: white;
            padding: 10px 15px;
            border-radius: 15px;
            border: 2px solid var(--ai-color);
            text-align: center;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 4px 10px rgba(123, 44, 191, 0.1);
        }

        #user-text-input {
            font-size: 1.2rem;
            padding: 5px;
            border: 2px solid #ccc;
            border-radius: 8px;
            text-align: center;
            width: 60%;
            outline: none;
        }

        .controls {
            margin-top: 10px;
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 800px;
        }

        .tone-btn {
            background-color: white;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            padding: 8px 15px;
            font-size: 1.1rem;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 3px 0 #ddd;
            min-width: 80px;
            transition: all 0.1s;
        }

        .tone-btn:active { transform: translateY(3px); box-shadow: none; }
        .tone-btn:disabled { background-color: #f0f0f0; border-color: #ccc; color: #999; cursor: not-allowed; }

        #status-text {
            height: 1.2em;
            margin-top: 8px;
            font-weight: bold;
            font-size: 0.9rem;
            color: #555;
        }

        #quiz-area {
            margin-top: 10px;
            padding: 15px;
            background: white;
            border-radius: 15px;
            text-align: center;
            width: 90%;
            max-width: 600px;
            display: none; 
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            border: 2px solid var(--secondary-color);
        }
        
        .quiz-active { display: block !important; }

        .quiz-option-btn {
            background-color: white;
            border: 2px solid #ccc;
            padding: 8px 12px;
            font-size: 1rem;
            border-radius: 12px;
            cursor: pointer;
            min-width: 70px;
        }

        footer {
            margin-top: auto;
            padding: 20px 10px 10px 10px;
            text-align: center;
            font-size: 0.85rem;
            color: var(--footer-color);
            line-height: 1.6;
            width: 100%;
        }

        .shake { animation: shake 0.4s; }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-8px); }
            50% { transform: translateX(8px); }
            75% { transform: translateX(-8px); }
        }
    </style>
</head>
<body>

    <img id="user-logo" src="" alt="Logo">

    <h1>ğŸš— è²èª¿è»Šè»Š</h1>

    <div class="canvas-container">
        <canvas id="gameCanvas"></canvas>
    </div>

    <div id="status-text">æº–å‚™å°±ç·’ï¼Œè«‹é»æ“Šä¸‹æ–¹æŒ‰éˆ•</div>

    <div id="input-section">
        <input type="text" id="user-text-input" placeholder="è¼¸å…¥æ³¨éŸ³(ã„…ã„š)æˆ–åœ‹å­—..." maxlength="6">
    </div>

    <div class="controls" id="tone-controls">
        <button class="tone-btn" onclick="app.playTone(1)">ä¸€è² â”€</button>
        <button class="tone-btn" onclick="app.playTone(2)">äºŒè² ËŠ</button>
        <button class="tone-btn" onclick="app.playTone(3)">ä¸‰è² Ë‡</button>
        <button class="tone-btn" onclick="app.playTone(4)">å››è² Ë‹</button>
    </div>

    <div id="quiz-area">
        <div id="quiz-step-1">
            <button class="tone-btn" style="background:var(--secondary-color); color:white; border:none; padding:10px 30px;" onclick="app.playQuizSound()">ğŸ”Š æ’­æ”¾é¡Œç›®</button>
        </div>
        <div id="quiz-step-2" style="display:none; margin-top:10px;">
            <button class="tone-btn" style="background:none; color:var(--secondary-color); border:2px solid var(--secondary-color); margin-bottom:15px; min-width:150px;" onclick="app.replayQuizSound()">ğŸ‘‚ å†è½ä¸€é</button>
            <div style="display:flex; gap:8px; justify-content:center; flex-wrap:wrap;">
                <button class="quiz-option-btn" onclick="app.checkAnswer(1)">ä¸€è²</button>
                <button class="quiz-option-btn" onclick="app.checkAnswer(2)">äºŒè²</button>
                <button class="quiz-option-btn" onclick="app.checkAnswer(3)">ä¸‰è²</button>
                <button class="quiz-option-btn" onclick="app.checkAnswer(4)">å››è²</button>
            </div>
        </div>
        <div id="feedback" style="margin-top:10px; font-size:1.1rem; font-weight:bold; min-height: 1.2em;"></div>
    </div>

    <div class="controls" style="margin-top:10px;">
        <button id="toggle-quiz-btn" class="tone-btn" style="background:#2EC4B6; color:white; border:none;" onclick="app.toggleQuizMode()">
            ğŸ“ é€²å…¥ç·´ç¿’æ¨¡å¼
        </button>
    </div>

    <footer style="display: flex; flex-direction: column; align-items: center; gap: 10px;">
    <img src="logo.png" alt="Logo" style="max-width: 100px; height: auto;">
    <div>Â© é‚±å½¥æ…ˆ èªè¨€æ²»ç™‚å¸«</div>
    <div>IG/ FB-é«˜é«˜è€å¸«èªä½ åœ¨ä¸€èµ· <b>@gaowithyou</b></div>
    <div>ä¿¡ç®±ï¼šyentzu1234@gmail.com</div>
</footer>



    <script>
        /**
         * å®Œæ•´æ³¨éŸ³è½‰åœ‹å­—å­—å…¸ - 2024 ç²¾ç¢ºå¯©æ ¸ç‰ˆ
         * 1. ä¿®æ­£ ã„•ã„ã€ã„ã„¨ã„¤ã€ã„“ã„š çš„å°æ‡‰å­—éŒ¯èª¤ã€‚
         * 2. ã„•ã„œ æ”¹ç‚ºã€Œæ¾€ã€é¿å…è®€éŸ³èˆ‡ Shai æ··æ·†ã€‚
         * 3. ã„“ã„¥ ä¸€è²æ”¹ç‚ºã€Œè’¸ã€é¿å…èˆ‡å››è²ã€Œæ­£ã€æ··æ·†ã€‚
         * 4. åˆªé™¤æ‰€æœ‰éå­—åŠç½•è¦‹ç™¼éŸ³ã€‚
         */
       const ZHUYIN_DICT = {
            'ã„…ã„š': { 1: 'å…«', 2: 'æ‹”', 3: 'æŠŠ', 4: 'çˆ¸' },
            'ã„…ã„›': { 1: 'æ³¢', 2: 'ä¼¯', 3: 'è·›', 4: 'æ’­' },
            'ã„…ã„': { 1: 'æ°', 2: 'ç™½', 3: 'ç™¾', 4: 'æ‹œ' },
            'ã„…ã„Ÿ': { 1: 'æ¯', 3: 'åŒ—', 4: 'èƒŒ' },
            'ã„…ã„ ': { 1: 'åŒ…', 2: 'é›¹', 3: 'å¯¶', 4: 'å ±' },
            'ã„…ã„¢': { 1: 'ç­', 3: 'æ¿', 4: 'åŠ' },
            'ã„…ã„£': { 1: 'å¥”', 3: 'æœ¬', 4: 'ç¬¨' },
            'ã„…ã„¤': { 1: 'å¹«', 3: 'æ¦œ', 4: 'æ£’' },
            'ã„…ã„¥': { 1: 'å´©', 2: 'ç”­', 3: 'ç¹ƒ', 4: 'è¹¦' },
            'ã„…ã„§': { 1: 'é€¼', 2: 'é¼»', 3: 'ç­†', 4: 'å¿…' },
            'ã„…ã„§ã„': { 1: 'æ†‹', 2: 'åˆ¥', 3: 'ç™Ÿ', 4: 'å½†' },
            'ã„…ã„§ã„ ': { 1: 'æ¨™', 3: 'éŒ¶' },
            'ã„…ã„§ã„¢': { 1: 'é‚Š', 3: 'æ‰', 4: 'è®Š' },
            'ã„…ã„§ã„£': { 1: 'æ¿±', 4: 'é¬¢' },
            'ã„…ã„§ã„¥': { 1: 'å†°', 3: 'ä¸™', 4: 'ç—…' },
            'ã„…ã„¨': { 1: 'é€‹', 2: 'ä¸', 3: 'è£œ', 4: 'å¸ƒ' }, 
            'ã„†ã„š': { 1: 'è¶´', 2: 'çˆ¬', 4: 'æ€•' },
            'ã„†ã„›': { 1: 'å¡', 2: 'å©†', 3: 'åµ', 4: 'ç ´' },
            'ã„†ã„': { 1: 'æ‹', 2: 'æ’', 4: 'æ´¾' },
            'ã„†ã„Ÿ': { 1: 'èƒš', 2: 'é™ª', 3: 'è³ ', 4: 'é…' },
            'ã„†ã„ ': { 1: 'æ‹‹', 2: 'è¢', 3: 'è·‘', 4: 'æ³¡' },
            'ã„†ã„¡': { 3: 'å‰–' },
            'ã„†ã„¢': { 1: 'æ”€', 2: 'ç›¤', 3: 'ç›¼', 4: 'åˆ¤' },
            'ã„†ã„£': { 1: 'å™´', 2: 'ç›†' },
            'ã„†ã„¤': { 1: 'æ»‚', 2: 'æ—', 3: 'è€ª', 4: 'èƒ–' },
            'ã„†ã„¥': { 1: 'çƒ¹', 2: 'æœ‹', 3: 'æ§', 4: 'ç¢°' },
            'ã„†ã„§': { 1: 'æ‰¹', 2: 'çš®', 3: 'åŒ¹', 4: 'å±' },
            'ã„†ã„§ã„': { 1: 'æ’‡', 3: 'æ’‡' },
            'ã„†ã„§ã„ ': { 1: 'é£„', 2: 'ç“¢', 3: 'çŸ', 4: 'ç¥¨' },
            'ã„†ã„§ã„¢': { 1: 'ç¯‡', 2: 'ä¾¿', 4: 'ç‰‡' },
            'ã„†ã„§ã„£': { 1: 'æ‹¼', 2: 'è²§', 3: 'å“', 4: 'è˜' },
            'ã„†ã„§ã„¥': { 2: 'å¹³', 3: 'å±', 4: 'è˜' },
            'ã„†ã„¨': { 1: 'é‹ª', 2: 'è‘¡', 3: 'æ™®', 4: 'ç€‘' },
            'ã„‡ã„š': { 1: 'åª½', 2: 'éº»', 3: 'é¦¬', 4: 'ç½µ' },
            'ã„‡ã„›': { 1: 'æ‘¸', 2: 'æ‘©', 3: 'æŠ¹', 4: 'å¢¨' },
            'ã„‡ã„œ': { 0: 'éº¼' },
            'ã„‡ã„': { 2: 'åŸ‹', 3: 'è²·', 4: 'è³£' },
            'ã„‡ã„Ÿ': { 2: 'ç…¤', 3: 'ç¾', 4: 'å¦¹' },
            'ã„‡ã„ ': { 1: 'è²“', 2: 'æ¯›', 3: 'å¯', 4: 'å¸½' },
            'ã„‡ã„¡': { 2: 'è¬€', 3: 'æŸ' },
            'ã„‡ã„¢': { 1: 'è »', 3: 'æ»¿', 4: 'æ…¢' },
            'ã„‡ã„£': { 2: 'é–€', 4: 'æ‚¶' },
            'ã„‡ã„¤': { 2: 'å¿™', 3: 'è½' },
            'ã„‡ã„¥': { 1: 'è’™', 2: 'ç›Ÿ', 3: 'çŒ›', 4: 'å¤¢' },
            'ã„‡ã„§': { 1: 'å’ª', 2: 'è¿·', 3: 'ç±³', 4: 'å¯†' },
            'ã„‡ã„§ã„': { 1: 'å’©', 4: 'æ»…' },
            'ã„‡ã„§ã„ ': { 2: 'è‹—', 3: 'ç§’', 4: 'å¦™' },
            'ã„‡ã„§ã„¢': { 2: 'æ£‰', 3: 'å…', 4: 'éºµ' },
            'ã„‡ã„§ã„£': { 2: 'æ°‘', 3: 'æ•' },
            'ã„‡ã„§ã„¥': { 2: 'æ˜', 3: 'é…©', 4: 'å‘½' },
            'ã„‡ã„¨': { 2: 'æ¨¡', 3: 'æ¯', 4: 'æœ¨' },
            'ã„ˆã„š': { 1: 'ç™¼', 2: 'ç½°', 3: 'æ³•', 4: 'çº' }, 
            'ã„ˆã„›': { 2: 'ä½›' },
            'ã„ˆã„Ÿ': { 1: 'é£›', 2: 'è‚¥', 3: 'åŒª', 4: 'è²»' },
            'ã„ˆã„¡': { 3: 'å¦' },
            'ã„ˆã„¢': { 1: 'ç¿»', 2: 'å‡¡', 3: 'å', 4: 'é£¯' },
            'ã„ˆã„£': { 1: 'èŠ¬', 2: 'ç„š', 3: 'ç²‰', 4: 'ä»½' },
            'ã„ˆã„¤': { 1: 'æ–¹', 2: 'æˆ¿', 3: 'è¨ª', 4: 'æ”¾' },
            'ã„ˆã„¥': { 1: 'é¢¨', 2: 'é€¢', 3: 'è«·', 4: 'é³³' },
            'ã„ˆã„¨': { 1: 'å¤«', 2: 'ç¦', 3: 'åºœ', 4: 'å¯Œ' },
            'ã„‰ã„š': { 1: 'æ­', 2: 'é”', 3: 'æ‰“', 4: 'å¤§' },
            'ã„‰ã„œ': { 2: 'å¾·' },
            'ã„‰ã„': { 1: 'å‘†', 3: 'æ­¹', 4: 'å¸¶' },
            'ã„‰ã„ ': { 1: 'åˆ€', 2: 'æ¯', 3: 'å³¶', 4: 'åˆ°' }, 
            'ã„‰ã„¡': { 1: 'å…œ', 3: 'æ–—', 4: 'è±†' },
            'ã„‰ã„¢': { 1: 'å–®', 3: 'è†½', 4: 'è›‹' },
            'ã„‰ã„¥': { 1: 'ç™»', 3: 'ç­‰', 4: 'é„§' },
            'ã„‰ã„§': { 1: 'ä½', 2: 'æ•µ', 3: 'åº•', 4: 'åœ°' },
            'ã„‰ã„§ã„': { 1: 'çˆ¹', 2: 'è«œ', 4: 'è·Œ' },
            'ã„‰ã„§ã„ ': { 1: 'é›•', 3: 'å±Œ', 4: 'åŠ' },
            'ã„‰ã„§ã„¡': { 1: 'ä¸Ÿ' },
            'ã„‰ã„§ã„¢': { 1: 'å·”', 3: 'é»', 4: 'é›»' },
            'ã„‰ã„§ã„¥': { 1: 'ä¸', 3: 'é ‚', 4: 'å®š' },
            'ã„‰ã„¨': { 1: 'ç£', 2: 'ç¨', 3: 'è³­', 4: 'åº¦' },
            'ã„‰ã„¨ã„›': { 1: 'å¤š', 2: 'å¥ª', 3: 'æœµ', 4: 'å¢®' },
            'ã„‰ã„¨ã„Ÿ': { 1: 'å †', 4: 'å°' },
            'ã„‰ã„¨ã„¢': { 1: 'ç«¯', 3: 'çŸ­', 4: 'æ–·' },
            'ã„‰ã„¨ã„£': { 1: 'æ•¦', 3: 'èº‰', 4: 'é “' }, 
            'ã„‰ã„¨ã„¥': { 1: 'æ±', 3: 'æ‡‚', 4: 'å‹•' },
            'ã„Šã„š': { 1: 'ä»–', 3: 'å¡”', 4: 'è¸' },
            'ã„Šã„œ': { 4: 'ç‰¹' },
            'ã„Šã„': { 1: 'èƒ', 2: 'è‡º', 4: 'å¤ª' },
            'ã„Šã„ ': { 1: 'æ¿¤', 2: 'é€ƒ', 3: 'è¨', 4: 'å¥—' },
            'ã„Šã„¡': { 1: 'å·', 2: 'é ­', 3: 'é€' },
            'ã„Šã„¢': { 1: 'æ”¤', 2: 'å£‡', 3: 'å¦', 4: 'æ¢' },
            'ã„Šã„¤': { 1: 'æ¹¯', 2: 'ç³–', 3: 'èºº', 4: 'ç‡™' },
            'ã„Šã„¥': { 2: 'é¨°' },
            'ã„Šã„§': { 1: 'æ¢¯', 2: 'é¡Œ', 3: 'é«”', 4: 'æ›¿' },
            'ã„Šã„§ã„': { 1: 'è²¼', 3: 'éµ', 4: 'å¸–' },
            'ã„Šã„§ã„ ': { 1: 'æŒ‘', 3: 'æŒ‘', 4: 'è·³' }, 
            'ã„Šã„§ã„¢': { 1: 'å¤©', 2: 'ç”°', 3: 'èˆ”' },
            'ã„Šã„§ã„¥': { 1: 'è½', 2: 'å»·', 3: 'æŒº' },
            'ã„Šã„¨': { 1: 'ç¦¿', 2: 'åœ–', 3: 'åœŸ', 4: 'å…”' },
            'ã„Šã„¨ã„›': { 1: 'æ‹–', 2: 'é§', 3: 'å¦¥', 4: 'å”¾' },
            'ã„Šã„¨ã„Ÿ': { 1: 'æ¨', 2: 'é ¹', 3: 'è…¿', 4: 'é€€' },
            'ã„Šã„¨ã„¢': { 2: 'åœ˜' },
            'ã„Šã„¨ã„£': { 1: 'å', 2: 'å±¯', 4: 'è¤ª' },
            'ã„Šã„¨ã„¥': { 1: 'é€š', 2: 'åŒ', 3: 'çµ±', 4: 'ç—›' },
            'ã„‹ã„š': { 2: 'æ‹¿', 3: 'å“ª', 4: 'é‚£' },
            'ã„‹ã„': { 3: 'ä¹ƒ', 4: 'å¥ˆ' },
            'ã„‹ã„Ÿ': { 3: 'é¤’', 4: 'å…§' },
            'ã„‹ã„ ': { 1: 'å­¬', 2: 'æ’“', 3: 'è…¦', 4: 'é¬§' }, 
            'ã„‹ã„¢': { 2: 'å—', 3: 'èµ§', 4: 'é›£' },
            'ã„‹ã„£': { 4: 'å«©' },
            'ã„‹ã„¤': { 2: 'å›Š', 3: 'æ”®' },
            'ã„‹ã„¥': { 2: 'èƒ½' },
            'ã„‹ã„§': { 1: 'å¦®', 2: 'å°¼', 3: 'ä½ ', 4: 'è†©' },
            'ã„‹ã„§ã„': { 1: 'æ', 4: 'è¶' },
            'ã„‹ã„§ã„ ': { 3: 'é³¥', 4: 'å°¿' },
            'ã„‹ã„§ã„¡': { 2: 'ç‰›', 3: 'ç´', 4: 'æ‹—' },
            'ã„‹ã„§ã„¢': { 2: 'å¹´', 3: 'æ”†', 4: 'å¿µ' },
            'ã„‹ã„§ã„£': { 2: 'æ‚¨' },
            'ã„‹ã„§ã„¤': { 2: 'å¨˜', 4: 'é‡€' },
            'ã„‹ã„§ã„¥': { 2: 'å¯§', 3: 'æ“°', 4: 'æ¿˜' },
            'ã„‹ã„¨': { 2: 'å¥´', 3: 'åŠª', 4: 'æ€’' },
            'ã„‹ã„¨ã„›': { 2: 'æŒª', 4: 'è«¾' },
            'ã„‹ã„©': { 3: 'å¥³', 4: 'æ§' },
            'ã„‹ã„©ã„': { 4: 'è™' },
            'ã„Œã„š': { 1: 'æ‹‰', 2: 'æ‹‰', 3: 'å–‡', 4: 'è¾£' },
            'ã„Œã„œ': { 4: 'æ¨‚' },
            'ã„Œã„': { 2: 'ä¾†', 4: 'è³´' },
            'ã„Œã„Ÿ': { 2: 'é›·', 3: 'å£˜', 4: 'ç´¯' },
            'ã„Œã„ ': { 1: 'æ’ˆ', 2: 'å‹', 3: 'è€', 4: 'çƒ™' },
            'ã„Œã„¡': { 2: 'æ¨“', 3: 'æ‘Ÿ', 4: 'æ¼' },
            'ã„Œã„¢': { 2: 'è—', 3: 'æ‡¶', 4: 'çˆ›' },
            'ã„Œã„¤': { 2: 'éƒ', 3: 'æœ—', 4: 'æµª' },
            'ã„Œã„¥': { 3: 'å†·', 4: 'æ„£' },
            'ã„Œã„§': { 2: 'é›¢', 3: 'ç†', 4: 'åŠ›' },
            'ã„Œã„§ã„': { 3: 'å’§', 4: 'çƒˆ' }, 
            'ã„Œã„§ã„ ': { 1: 'æ’©', 2: 'èŠ', 3: 'äº†', 4: 'æ–™' }, 
            'ã„Œã„§ã„¡': { 1: 'æºœ', 2: 'ç•™', 3: 'æŸ³', 4: 'å…­' },
            'ã„Œã„§ã„¢': { 2: 'é€£', 3: 'è‡‰', 4: 'ç·´' },
            'ã„Œã„§ã„£': { 2: 'æ—', 3: 'å‡œ', 4: 'å' },
            'ã„Œã„§ã„¤': { 2: 'è‰¯', 3: 'å…©', 4: 'äº®' },
            'ã„Œã„§ã„¥': { 2: 'éˆ', 3: 'é ˜', 4: 'ä»¤' },
            'ã„Œã„¨': { 2: 'ç›§', 3: 'é­¯', 4: 'è·¯' },
            'ã„Œã„¨ã„›': { 2: 'ç¾…', 3: 'è£¸', 4: 'è½' },
            'ã„Œã„¨ã„¢': { 2: 'å·’', 3: 'åµ', 4: 'äº‚' },
            'ã„Œã„¨ã„£': { 2: 'å€«', 4: 'è«–' },
            'ã„Œã„¨ã„¥': { 2: 'é¾', 3: 'æ”', 4: 'å¼„' },
            'ã„Œã„©': { 2: 'é©¢', 3: 'å‘‚', 4: 'ç¶ ' },
            'ã„Œã„©ã„': { 4: 'ç•¥' },
            'ã„ã„š': { 1: 'å˜', 4: 'å°¬' },
            'ã„ã„œ': { 1: 'å“¥', 2: 'æ ¼', 3: 'è‘›', 4: 'å€‹' },
            'ã„ã„': { 1: 'è©²', 3: 'æ”¹', 4: 'è“‹' },
            'ã„ã„Ÿ': { 3: 'çµ¦' },
            'ã„ã„ ': { 1: 'é«˜', 3: 'æ', 4: 'å‘Š' },
            'ã„ã„¡': { 1: 'æº', 3: 'ç‹—', 4: 'å¤ ' },
            'ã„ã„¢': { 1: 'ä¹¾', 3: 'æ•¢', 4: 'å¹¹' },
            'ã„ã„£': { 1: 'è·Ÿ', 4: 'äº™' }, 
            'ã„ã„¤': { 1: 'å‰›', 3: 'å´—', 4: 'é‹¼' },
            'ã„ã„¥': { 1: 'æ›´', 3: 'æ¢—', 4: 'æ›´' },
            'ã„ã„¨': { 1: 'å§‘', 3: 'å¤', 4: 'é¡§' },
            'ã„ã„¨ã„š': { 1: 'ç“œ', 3: 'å¯¡', 4: 'æ›' },
            'ã„ã„¨ã„›': { 1: 'éƒ­', 2: 'åœ‹', 3: 'æœ', 4: 'é' },
            'ã„ã„¨ã„': { 1: 'ä¹–', 3: 'æ‹', 4: 'æ€ª' },
            'ã„ã„¨ã„Ÿ': { 1: 'æ­¸', 3: 'é¬¼', 4: 'è²´' },
            'ã„ã„¨ã„¢': { 1: 'å®˜', 3: 'ç®¡', 4: 'æ…£' },
            'ã„ã„¨ã„£': { 3: 'æ»¾', 4: 'æ£' },
            'ã„ã„¨ã„¤': { 1: 'å…‰', 3: 'å»£', 4: 'é€›' },
            'ã„ã„¨ã„¥': { 1: 'å…¬', 3: 'é', 4: 'å…±' },
            'ã„ã„š': { 1: 'å’–', 3: 'å¡' },
            'ã„ã„œ': { 1: 'ç§‘', 2: 'æ®¼', 3: 'å¯', 4: 'å…‹' },
            'ã„ã„': { 1: 'é–‹', 3: 'å‡±', 4: 'æ„¾' }, 
            'ã„ã„ ': { 1: 'å°»', 3: 'è€ƒ', 4: 'é ' }, 
            'ã„ã„¡': { 1: 'æ‘³', 3: 'å£', 4: 'å¯‡' },
            'ã„ã„¢': { 1: 'åˆŠ', 3: 'ç ', 4: 'çœ‹' },
            'ã„ã„£': { 3: 'è‚¯', 4: 'æ¯' }, 
            'ã„ã„¤': { 1: 'åº·', 2: 'æ‰›', 4: 'ç‚•' },
            'ã„ã„¥': { 1: 'å‘' },
            'ã„ã„¨': { 1: 'å“­', 3: 'è‹¦', 4: 'åº«' },
            'ã„ã„¨ã„š': { 1: 'èª‡', 3: 'å®', 4: 'è·¨' },
            'ã„ã„¨ã„›': { 4: 'é—Š' },
            'ã„ã„¨ã„': { 4: 'å¿«' },
            'ã„ã„¨ã„Ÿ': { 1: 'è™§', 2: 'è‘µ', 3: 'é­', 4: 'æ„§' },
            'ã„ã„¨ã„¢': { 1: 'å¯¬', 3: 'æ¬¾' },
            'ã„ã„¨ã„£': { 1: 'æ˜†', 3: 'æ†', 4: 'å›°' },
            'ã„ã„¨ã„¤': { 1: 'åŒ¡', 2: 'ç‹‚', 4: 'æ³' },
            'ã„ã„¨ã„¥': { 1: 'ç©º', 3: 'å­”', 4: 'æ§' },
            'ã„ã„š': { 1: 'å“ˆ', 2: 'è›¤' },
            'ã„ã„œ': { 1: 'å–', 2: 'æ²³', 4: 'è³€' },
            'ã„ã„': { 1: 'å—¨', 2: 'å­©', 3: 'æµ·', 4: 'å®³' }, 
            'ã„ã„Ÿ': { 1: 'é»‘', 4: 'å˜¿' }, 
            'ã„ã„ ': { 1: 'è’¿', 2: 'è±ª', 3: 'å¥½', 4: 'è™Ÿ' },
            'ã„ã„¡': { 2: 'çŒ´', 3: 'å¼', 4: 'å' },
            'ã„ã„¢': { 1: 'é…£', 2: 'å¯’', 3: 'å–Š', 4: 'æ¼¢' },
            'ã„ã„£': { 2: 'ç—•', 3: 'å¾ˆ', 4: 'æ¨' },
            'ã„ã„¤': { 1: 'å¤¯', 2: 'è¡Œ', 4: 'æ²†' }, 
            'ã„ã„¥': { 1: 'äº¨', 2: 'æ©«', 4: 'å“¼' },
            'ã„ã„¨': { 1: 'å‘¼', 2: 'èƒ¡', 3: 'è™', 4: 'è­·' },
            'ã„ã„¨ã„š': { 1: 'èŠ±', 2: 'è¯', 4: 'è©±' },
            'ã„ã„¨ã„›': { 1: 'è±', 2: 'æ´»', 3: 'ç«', 4: 'è²¨' },
            'ã„ã„¨ã„': { 4: 'å£' },
            'ã„ã„¨ã„Ÿ': { 1: 'è¼', 2: 'å›', 3: 'æ¯€', 4: 'æœƒ' },
            'ã„ã„¨ã„¢': { 1: 'æ­¡', 2: 'ç’°', 3: 'ç·©', 4: 'æ›' },
            'ã„ã„¨ã„£': { 1: 'å©š', 2: 'é­‚', 4: 'æ··' },
            'ã„ã„¨ã„¤': { 1: 'è’', 2: 'é»ƒ', 3: 'è¬Š', 4: 'æ™ƒ' },
            'ã„ã„¨ã„¥': { 1: 'çƒ˜', 2: 'ç´…', 3: 'å“„', 4: 'é¬¨' }, 
            'ã„ã„§': { 1: 'é›', 2: 'é›†', 3: 'æ“ ', 4: 'å¯„' },
            'ã„ã„§ã„š': { 1: 'å®¶', 2: 'å¤¾', 3: 'ç”²', 4: 'åƒ¹' },
            'ã„ã„§ã„': { 1: 'æ¥', 2: 'å‚‘', 3: 'å§', 4: 'ç•Œ' },
            'ã„ã„§ã„ ': { 1: 'äº¤', 2: 'åš¼', 3: 'è…³', 4: 'å«' },
            'ã„ã„§ã„¡': { 1: 'ç©¶', 3: 'ä¹', 4: 'èˆŠ' },
            'ã„ã„§ã„¢': { 1: 'å°–', 3: 'å‰ª', 4: 'è¦‹' },
            'ã„ã„§ã„£': { 1: 'é‡‘', 3: 'ç·Š', 4: 'é€²' },
            'ã„ã„§ã„¤': { 1: 'æ±Ÿ', 3: 'è¬›', 4: 'é™' },
            'ã„ã„§ã„¥': { 1: 'ç¶“', 3: 'äº•', 4: 'é¡' },
            'ã„ã„©': { 1: 'å±…', 2: 'å±€', 3: 'èˆ‰', 4: 'å¥' },
            'ã„ã„©ã„': { 2: 'çµ•', 3: 'å´›', 4: 'å€”' }, 
            'ã„ã„©ã„¢': { 1: 'æ', 3: 'æ²', 4: 'å€¦' },
            'ã„ã„©ã„£': { 1: 'è»', 4: 'ä¿Š' },
            'ã„ã„©ã„¥': { 3: 'çª˜' },
            'ã„‘ã„§': { 1: 'ä¸ƒ', 2: 'é¨', 3: 'èµ·', 4: 'æ°£' },
            'ã„‘ã„§ã„š': { 1: 'æ', 4: 'æ°' },
            'ã„‘ã„§ã„': { 1: 'åˆ‡', 2: 'èŒ„', 3: 'ä¸”', 4: 'ç«Š' }, 
            'ã„‘ã„§ã„ ': { 1: 'æ•²', 2: 'æ©‹', 3: 'å·§', 4: 'ç¿¹' },
            'ã„‘ã„§ã„¡': { 1: 'ç§‹', 2: 'çƒ' },
            'ã„‘ã„§ã„¢': { 1: 'åƒ', 2: 'å‰', 3: 'æ·º', 4: 'æ¬ ' },
            'ã„‘ã„§ã„£': { 1: 'è¦ª', 2: 'ç´', 3: 'å¯¢', 4: 'æ²' },
            'ã„‘ã„§ã„¤': { 1: 'æ§', 2: 'ç‰†', 3: 'å¼·', 4: 'å—†' },
            'ã„‘ã„§ã„¥': { 1: 'è¼•', 2: 'æƒ…', 3: 'è«‹', 4: 'æ…¶' },
            'ã„‘ã„©': { 1: 'å€', 2: 'æ¸ ', 3: 'å¨¶', 4: 'å»' },
            'ã„‘ã„©ã„': { 1: 'ç¼º', 2: 'ç˜¸', 4: 'å»' },
            'ã„‘ã„©ã„¢': { 1: 'åœˆ', 2: 'å…¨', 3: 'çŠ¬', 4: 'å‹¸' },
            'ã„‘ã„©ã„£': { 2: 'ç¾¤', 3: 'è£™' },
            'ã„‘ã„©ã„¥': { 2: 'çª®' },
            'ã„’ã„§': { 1: 'è¥¿', 2: 'å¸­', 3: 'æ´—', 4: 'ç´°' },
            'ã„’ã„§ã„š': { 1: 'è¦', 2: 'éœ', 4: 'ä¸‹' },
            'ã„’ã„§ã„': { 1: 'äº›', 2: 'é‹', 3: 'å¯«', 4: 'è¬' },
            'ã„’ã„§ã„ ': { 1: 'æ¶ˆ', 3: 'å°', 4: 'ç¬‘' },
            'ã„’ã„§ã„¡': { 1: 'ä¿®', 3: 'æœ½', 4: 'ç§€' },
            'ã„’ã„§ã„¢': { 1: 'å…ˆ', 2: 'é–’', 3: 'é¡¯', 4: 'ç¾' },
            'ã„’ã„§ã„£': { 1: 'æ–°', 4: 'ä¿¡' },
            'ã„’ã„§ã„¤': { 1: 'é¦™', 2: 'ç¥¥', 3: 'æƒ³', 4: 'å‘' },
            'ã„’ã„§ã„¥': { 1: 'æ˜Ÿ', 2: 'è¡Œ', 3: 'é†’', 4: 'æ€§' },
            'ã„’ã„©': { 1: 'éœ€', 2: 'å¾', 3: 'è¨±', 4: 'åº' },
            'ã„’ã„©ã„': { 1: 'è–›', 2: 'å­¸', 3: 'é›ª', 4: 'ç©´' }, 
            'ã„’ã„©ã„¢': { 1: 'å®£', 2: 'ç„', 3: 'é¸', 4: 'ç‚«' },
            'ã„’ã„©ã„£': { 1: 'å‹³', 2: 'å°‹', 4: 'è¨“' },
            'ã„’ã„©ã„¥': { 1: 'å…„', 2: 'ç†Š' },
            'ã„“': { 1: 'çŸ¥', 2: 'ç›´', 3: 'ç´™', 4: 'è‡³' },
            'ã„“ã„š': { 1: 'æ‰', 2: 'æœ­', 3: 'çœ¨', 4: 'è©' },
            'ã„“ã„œ': { 1: 'é®', 2: 'å“²', 3: 'è€…', 4: 'é€™' },
            'ã„“ã„': { 1: 'æ‘˜', 2: 'å®…', 3: 'çª„', 4: 'å¯¨' },
            'ã„“ã„Ÿ': { 4: 'é€™' },
            'ã„“ã„ ': { 1: 'æ‹›', 2: 'è‘—', 3: 'æ‰¾', 4: 'ç…§' },
            'ã„“ã„¡': { 1: 'å‘¨', 2: 'è»¸', 3: 'è‚˜', 4: 'å’’' },
            'ã„“ã„¢': { 1: 'æ²¾', 3: 'ç›', 4: 'ç«™' },
            'ã„“ã„£': { 1: 'çœŸ', 3: 'æ•', 4: 'é™£' },
            'ã„“ã„¤': { 1: 'å¼µ', 3: 'æŒ', 4: 'å¸³' },
            'ã„“ã„¥': { 1: 'è’¸', 3: 'æ•´', 4: 'æ­£' },
            'ã„“ã„¨': { 1: 'è±¬', 2: 'ç«¹', 3: 'ä¸»', 4: 'ä½' },
            'ã„“ã„¨ã„š': { 1: 'æŠ“', 3: 'çˆª' },
            'ã„“ã„¨ã„›': { 1: 'æ¡Œ', 2: 'å“', 3: 'æ‹™' },
            'ã„“ã„¨ã„': { 4: 'æ‹½' },
            'ã„“ã„¨ã„Ÿ': { 1: 'è¿½', 4: 'ç¶´' },
            'ã„“ã„¨ã„¢': { 1: 'å°ˆ', 3: 'è½‰', 4: 'è³º' },
            'ã„“ã„¨ã„£': { 1: 'è«„', 3: 'æº–' },
            'ã„“ã„¨ã„¤': { 1: 'èŠ', 3: 'å¥˜', 4: 'æ’' },
            'ã„“ã„¨ã„¥': { 1: 'ä¸­', 3: 'å¡š', 4: 'é‡' },
            'ã„”': { 1: 'åƒ', 2: 'é²', 3: 'å°º', 4: 'ç¿…' },
            'ã„”ã„š': { 1: 'æ’', 2: 'æŸ¥', 3: 'å§¹', 4: 'å²”' },
            'ã„”ã„': { 1: 'æ‹†', 2: 'æŸ´', 4: 'è †' }, 
            'ã„”ã„ ': { 1: 'è¶…', 2: 'å·¢', 3: 'ç‚’', 4: 'åµ' },
            'ã„”ã„¡': { 1: 'æŠ½', 2: 'æ„', 3: 'é†œ', 4: 'è‡­' },
            'ã„”ã„¢': { 1: 'æ”™', 2: 'çº', 3: 'ç”¢', 4: 'æ‡º' },
            'ã„”ã„£': { 1: 'ç›', 2: 'è‡£', 4: 'è¥¯' }, 
            'ã„”ã„¤': { 1: 'æ˜Œ', 2: 'é•·', 3: 'å ´', 4: 'å”±' },
            'ã„”ã„¥': { 1: 'ç¨±', 2: 'æˆ', 3: 'å‘ˆ', 4: 'ç§¤' }, 
            'ã„”ã„¨': { 1: 'å‡º', 2: 'é™¤', 3: 'æ¥š', 4: 'è™•' },
            'ã„”ã„¨ã„›': { 1: 'æˆ³', 4: 'ç¶½' },
            'ã„”ã„¨ã„': { 3: 'æ£', 4: 'è¸¹' }, 
            'ã„”ã„¨ã„Ÿ': { 1: 'å¹', 2: 'å‚', 4: 'ç‚Š' },
            'ã„”ã„¨ã„¢': { 1: 'ç©¿', 2: 'èˆ¹', 3: 'å–˜', 4: 'ä¸²' },
            'ã„”ã„¨ã„£': { 1: 'æ˜¥', 2: 'ç´”', 3: 'è ¢' },
            'ã„”ã„¨ã„¤': { 1: 'çª—', 2: 'åºŠ', 3: 'é—–', 4: 'å‰µ' },
            'ã„”ã„¨ã„¥': { 1: 'å……', 2: 'é‡', 3: 'å¯µ', 4: 'è¡' },
            'ã„•': { 1: 'å¸«', 2: 'å', 3: 'ä½¿', 4: 'æ˜¯' },
            'ã„•ã„š': { 1: 'æ®º', 2: 'å•¥', 3: 'å‚»', 4: 'ç…' },
            'ã„•ã„œ': { 1: 'å¥¢', 2: 'è›‡', 3: 'æ¨', 4: 'ç¤¾' },
            'ã„•ã„': { 1: 'ç¯©', 3: 'ç¹º', 4: 'æ›¬' }, 
            'ã„•ã„Ÿ': { 2: 'èª°' },
            'ã„•ã„ ': { 1: 'ç‡’', 2: 'å‹º', 3: 'å°‘', 4: 'å“¨' },
            'ã„•ã„¡': { 1: 'æ”¶', 2: 'ç†Ÿ', 3: 'æ‰‹', 4: 'å—' },
            'ã„•ã„¢': { 1: 'å±±', 3: 'é–ƒ', 4: 'å–„' },
            'ã„•ã„£': { 1: 'èº«', 2: 'ç¥', 3: 'å¯©', 4: 'æ…' },
            'ã„•ã„¤': { 1: 'å•†', 3: 'è³', 4: 'ä¸Š' },
            'ã„•ã„¥': { 1: 'ç”Ÿ', 2: 'ç¹©', 3: 'çœ', 4: 'è–' },
            'ã„•ã„¨': { 1: 'æ›¸', 2: 'ç†Ÿ', 3: 'é¼ ', 4: 'æ¨¹' },
            'ã„•ã„¨ã„š': { 1: 'åˆ·', 3: 'è€' },
            'ã„•ã„¨ã„›': { 1: 'èªª', 4: 'æœ”' },
            'ã„•ã„¨ã„': { 1: 'æ‘”', 3: 'ç”©', 4: 'å¸¥' },
            'ã„•ã„¨ã„Ÿ': { 3: 'æ°´', 4: 'ç¡' },
            'ã„•ã„¨ã„¢': { 1: 'æ “', 4: 'æ¶®' },
            'ã„•ã„¨ã„£': { 3: 'å®', 4: 'é †' }, 
            'ã„•ã„¨ã„¤': { 1: 'é›™', 3: 'çˆ½' },
            'ã„–': { 4: 'æ—¥' },
            'ã„–ã„œ': { 4: 'ç†±' },
            'ã„–ã„ ': { 2: 'é¥’', 3: 'æ“¾', 4: 'ç¹' },
            'ã„–ã„¡': { 2: 'æŸ”', 4: 'è‚‰' },
            'ã„–ã„¢': { 2: 'ç„¶', 3: 'æŸ“' },
            'ã„–ã„£': { 2: 'äºº', 3: 'å¿', 4: 'ä»»' },
            'ã„–ã„¤': { 3: 'åš·', 4: 'è®“' },
            'ã„–ã„¥': { 1: 'æ‰”', 2: 'ä»' },
            'ã„–ã„¨': { 2: 'å¦‚', 3: 'ä¹³', 4: 'å…¥' },
            'ã„–ã„¨ã„›': { 4: 'è‹¥' },
            'ã„–ã„¨ã„Ÿ': { 3: 'è•Š', 4: 'ç‘' },
            'ã„–ã„¨ã„¢': { 3: 'è»Ÿ' },
            'ã„–ã„¨ã„£': { 4: 'æ½¤' },
            'ã„–ã„¨ã„¥': { 2: 'æ¦®', 3: 'å†—' },
            'ã„—': { 1: 'æ»‹', 3: 'ç´«', 4: 'å­—' },
            'ã„—ã„š': { 1: 'æ‰', 2: 'é›œ' },
            'ã„—ã„œ': { 2: 'è²¬', 4: 'ä»„' },
            'ã„—ã„': { 1: 'æ ½', 3: 'å®°', 4: 'åœ¨' },
            'ã„—ã„Ÿ': { 2: 'è³Š' },
            'ã„—ã„ ': { 1: 'é­', 2: 'é‘¿', 3: 'æ—©', 4: 'é€ ' }, 
            'ã„—ã„¡': { 1: 'é„’', 3: 'èµ°', 4: 'å¥' },
            'ã„—ã„¢': { 1: 'ç°ª', 2: 'å’±', 3: 'æ”¢', 4: 'è´Š' }, 
            'ã„—ã„£': { 3: 'æ€' },
            'ã„—ã„¤': { 1: 'é«’', 4: 'è‘¬' },
            'ã„—ã„¥': { 1: 'æ›¾', 4: 'è´ˆ' },
            'ã„—ã„¨': { 1: 'ç§Ÿ', 2: 'æ—', 3: 'ç¥–' },
            'ã„—ã„¨ã„›': { 2: 'æ˜¨', 3: 'å·¦', 4: 'åš' },
            'ã„—ã„¨ã„Ÿ': { 3: 'å˜´', 4: 'æœ€' },
            'ã„—ã„¨ã„¢': { 1: 'èº¦', 4: 'æ”¥' },
            'ã„—ã„¨ã„£': { 1: 'å°Š' },
            'ã„—ã„¨ã„¥': { 1: 'å®—', 3: 'ç¸½', 4: 'ç¸±' },
            'ã„˜': { 1: 'ç–µ', 2: 'è©', 3: 'æ­¤', 4: 'åˆº' },
            'ã„˜ã„š': { 1: 'æ“¦' },
            'ã„˜ã„œ': { 4: 'å†Š' },
            'ã„˜ã„': { 1: 'çŒœ', 2: 'æ‰', 3: 'å½©', 4: 'èœ' },
            'ã„˜ã„ ': { 1: 'æ“', 2: 'æ›¹', 3: 'è‰', 4: 'è‚' }, 
            'ã„˜ã„¡': { 4: 'æ¹Š' },
            'ã„˜ã„¢': { 1: 'é¤', 2: 'æ®˜', 3: 'æ…˜', 4: 'ç‡¦' },
            'ã„˜ã„£': { 1: 'åƒ', 2: 'å²‘' },
            'ã„˜ã„¤': { 1: 'å€‰', 2: 'è—' },
            'ã„˜ã„¥': { 2: 'å±¤', 4: 'è¹­' },
            'ã„˜ã„¨': { 1: 'ç²—', 4: 'é†‹' },
            'ã„˜ã„¨ã„›': { 1: 'æ“', 4: 'éŒ¯' },
            'ã„˜ã„¨ã„Ÿ': { 1: 'å‚¬', 3: 'ç’€', 4: 'è„†' },
            'ã„˜ã„¨ã„¢': { 1: 'æ±†', 4: 'ç«„' },
            'ã„˜ã„¨ã„£': { 1: 'æ‘', 2: 'å­˜', 4: 'å¯¸' },
            'ã„˜ã„¨ã„¥': { 1: 'åŒ†', 2: 'å¢', 4: 'è¬¥' },
            'ã„™': { 1: 'çµ²', 3: 'æ­»', 4: 'å››' },
            'ã„™ã„š': { 1: 'æ’’', 3: 'ç‘', 4: 'è–©' },
            'ã„™ã„œ': { 4: 'æ¾€' },
            'ã„™ã„': { 1: 'å¡', 4: 'è³½' },
            'ã„™ã„ ': { 1: 'é¨·', 3: 'å«‚', 4: 'ç‡¥' },
            'ã„™ã„¡': { 1: 'æœ', 3: 'åŸ', 4: 'å—½' },
            'ã„™ã„¢': { 1: 'ä¸‰', 3: 'å‚˜', 4: 'æ•£' },
            'ã„™ã„£': { 1: 'æ£®' },
            'ã„™ã„¤': { 1: 'æ¡‘', 3: 'å—“', 4: 'å–ª' },
            'ã„™ã„¥': { 1: 'åƒ§' },
            'ã„™ã„¨': { 1: 'è˜‡', 2: 'ä¿—', 4: 'é€Ÿ' },
            'ã„™ã„¨ã„›': { 1: 'ç¸®', 3: 'é–' },
            'ã„™ã„¨ã„Ÿ': { 1: 'é›–', 2: 'éš¨', 3: 'é«“', 4: 'æ­²' },
            'ã„™ã„¨ã„¢': { 1: 'é…¸', 4: 'ç®—' },
            'ã„™ã„¨ã„£': { 1: 'å­«', 3: 'æ' },
            'ã„™ã„¨ã„¥': { 1: 'é¬†', 3: 'è³', 4: 'é€' },
            'ã„§':   { 1: 'è¡£', 2: 'ç§»', 3: 'æ¤…', 4: 'æ„' },
            'ã„§ã„š': { 1: 'é´¨', 2: 'ç‰™', 3: 'é›…', 4: 'äº' },
            'ã„§ã„': { 1: 'è€¶', 2: 'çˆº', 3: 'ä¹Ÿ', 4: 'å¤œ' },
            'ã„§ã„ ': { 1: 'è…°', 2: 'æ–', 3: 'å’¬', 4: 'è¦' },
            'ã„§ã„¡': { 1: 'å„ª', 2: 'ç”±', 3: 'æœ‰', 4: 'å³' },
            'ã„§ã„¢': { 1: 'ç…™', 2: 'è¨€', 3: 'çœ¼', 4: 'ç‡•' },
            'ã„§ã„£': { 1: 'å› ', 2: 'éŠ€', 3: 'å¼•', 4: 'å°' },
            'ã„§ã„¤': { 1: 'å¤®', 2: 'ç¾Š', 3: 'é¤Š', 4: 'æ¨£' },
            'ã„§ã„¥': { 1: 'è‹±', 2: 'ç‡Ÿ', 3: 'å½±', 4: 'ç¡¬' },
            'ã„¨':   { 1: 'å±‹', 2: 'ç„¡', 3: 'äº”', 4: 'éœ§' },
            'ã„¨ã„š': { 1: 'æŒ–', 2: 'å¨ƒ', 3: 'ç“¦', 4: 'è¥ª' },
            'ã„¨ã„›': { 1: 'çª©', 3: 'æˆ‘', 4: 'è‡¥' },
            'ã„¨ã„': { 1: 'æ­ª', 4: 'å¤–' },
            'ã„¨ã„Ÿ': { 1: 'å¨', 2: 'åœ', 3: 'å‰', 4: 'ä½' },
            'ã„¨ã„¢': { 1: 'å½', 2: 'å®Œ', 3: 'æ™š', 4: 'è¬' },
            'ã„¨ã„£': { 1: 'æº«', 2: 'æ–‡', 3: 'ç©©', 4: 'å•' },
            'ã„¨ã„¤': { 1: 'æ±ª', 2: 'ç‹', 3: 'å¾€', 4: 'å¿˜' },
            'ã„¨ã„¥': { 1: 'ç¿', 3: 'è“Š', 4: 'ç”•' },
            'ã„©':   { 1: 'è¿‚', 2: 'é­š', 3: 'é›¨', 4: 'é‡' },
            'ã„©ã„': { 1: 'ç´„', 4: 'æœˆ' },
            'ã„©ã„¢': { 1: 'å†¤', 2: 'å…ƒ', 3: 'é ', 4: 'é™¢' },
            'ã„©ã„£': { 1: 'æšˆ', 2: 'é›²', 3: 'å…', 4: 'é‹' },
            'ã„©ã„¥': { 1: 'é›', 3: 'å‹‡', 4: 'ç”¨' },
            'ã„':   { 1: 'å“€', 2: 'ç™Œ', 3: 'çŸ®', 4: 'æ„›' },
            'ã„Ÿ':   { 2: 'æ¬¸', 4: 'èª’' }, 
            'ã„ ':   { 1: 'å‡¹', 2: 'ç†¬', 3: 'è¥–', 4: 'å¥§' },
            'ã„¡':   { 1: 'æ­', 3: 'å¶', 4: 'æ¼š' },
            'ã„¢':   { 1: 'å®‰', 3: 'ä¿º', 4: 'æ¡ˆ' },
            'ã„£':   { 1: 'æ©', 4: 'æ‘' },
            'ã„¤':   { 1: 'éª¯', 2: 'æ˜‚' },
            'ã„¥':   { 1: 'é¥' },
            'ã„¦':   { 2: 'å…’', 3: 'è€³', 4: 'äºŒ' },
            'ã„š':   { 1: 'é˜¿' },
            'ã„›':   { 1: 'å–”' },
            'ã„œ':   { 1: 'å©€', 2: 'éµ', 3: 'å™', 4: 'é¤“' },
        
        };

        const REVERSE_DICT = {};
        for (const [zhuyin, tones] of Object.entries(ZHUYIN_DICT)) {
            for (const char of Object.values(tones)) {
                REVERSE_DICT[char] = zhuyin;
            }
        }

        class ToneManager {
            constructor() {
                this.audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }

            async getAudio(inputText, tone, rate = 0.5) {
                const input = inputText ? inputText.trim() : "";
                let zhuyinKey = ZHUYIN_DICT[input] ? input : REVERSE_DICT[input];
                if (zhuyinKey) {
                    const textToSpeak = ZHUYIN_DICT[zhuyinKey][tone];
                    if (!textToSpeak) return { type: 'no_char', text: "ç„¡æ­¤éŸ³å­—" };
                    const buffer = await this.browserTTS(textToSpeak, rate);
                    return { type: 'buffer', buffer: buffer, text: textToSpeak };
                }
                if (input) {
                    const buffer = await this.browserTTS(input, rate);
                    return { type: 'buffer', buffer: buffer, text: input };
                }
                return { type: 'no_char', text: "è«‹è¼¸å…¥æ³¨éŸ³" };
            }

            browserTTS(text, rate = 0.5, repeat = 1) {
                return new Promise((resolve) => {
                    const finalStr = repeat > 1 ? `${text}ï¼Œ${text}` : text;
                    const utter = new SpeechSynthesisUtterance(finalStr);
                    utter.rate = rate; 
                    utter.lang = 'zh-TW';
                    utter.onend = () => {
                         const duration = Math.max(1.5, (text.length * 1.1 / rate) * repeat); 
                         const sr = this.audioCtx.sampleRate;
                         resolve(this.audioCtx.createBuffer(1, Math.floor(sr * duration), sr));
                    };
                    speechSynthesis.speak(utter);
                    setTimeout(() => {
                         const duration = Math.max(1.5, (text.length * 1.1 / rate) * repeat);
                         const sr = this.audioCtx.sampleRate;
                         resolve(this.audioCtx.createBuffer(1, Math.floor(sr * duration), sr));
                    }, 350); 
                });
            }
        }

        class ToneApp {
            constructor() {
                this.canvas = document.getElementById('gameCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.manager = new ToneManager();
                this.car = { x: 50, y: 200, angle: 0, size: 40 };
                this.staffY = [100, 150, 200, 250, 300]; 
                this.isAnimating = false;
                this.progress = 0;
                this.speed = 0.02; 
                this.currentTone = null;
                this.currentText = ""; 
                this.quizMode = false;
                this.targetTone = null;
                this.currentQuizChar = ""; 
                this.currentQuizText = ""; 
                this.loop = this.loop.bind(this);
                requestAnimationFrame(this.loop);
                this.resize();
                window.addEventListener('resize', () => this.resize());
            }

            resize() {
                const w = this.canvas.parentElement.clientWidth;
                this.canvas.width = w;
                this.canvas.height = w * 0.5;
            }

            getToneSymbol(tone) {
                const symbols = { 1: 'â”€', 2: 'ËŠ', 3: 'Ë‡', 4: 'Ë‹' };
                return symbols[tone] || '';
            }

            setLoading(isLoading, msg, skipDisable = false) {
                const status = document.getElementById('status-text');
                const controls = document.getElementById('tone-controls');
                if (isLoading) {
                    status.innerHTML = `<span class="loading-spinner"></span> ${msg}`;
                    if(!skipDisable) controls.style.pointerEvents = "none";
                } else {
                    status.innerText = msg;
                    if(!skipDisable) controls.style.pointerEvents = "auto";
                }
            }

            async playTone(tone, forceAnimation = false, customRate = 0.6) {
                if (this.quizMode && !forceAnimation) return;
                if (this.manager.audioCtx.state === 'suspended') await this.manager.audioCtx.resume();
                let input = document.getElementById('user-text-input').value.trim();
                if (forceAnimation && this.currentQuizText) input = this.currentQuizText; 
                if (!forceAnimation) this.setLoading(true, "æº–å‚™ä¸­...", false);
                try {
                    const result = await this.manager.getAudio(input, tone, customRate);
                    if (result.type === 'no_char') {
                        this.setLoading(false, "æ²’æœ‰é€™å€‹å¸¸ç”¨å­—å–”ï¼", false);
                        return; 
                    }
                    this.currentText = result.text;
                    if (!forceAnimation) this.setLoading(false, `æ’­æ”¾ï¼šã€Œ${this.currentText}ã€`, false);
                    const duration = result.duration || (result.buffer ? result.buffer.duration : 1.8);
                    this.startAnimation(tone, duration);
                } catch (e) {
                    if (!forceAnimation) this.setLoading(false, "ç™¼ç”ŸéŒ¯èª¤");
                }
            }

            startAnimation(tone, duration) {
                this.currentTone = tone;
                this.progress = 0;
                this.isAnimating = true;
                this.speed = 1.0 / (duration * 60);
                const h = this.canvas.height;
                if(tone === 2) this.car.y = h * 0.75;
                else if(tone === 3) this.car.y = h * 0.5;
                else if(tone === 4) this.car.y = h * 0.25;
                else this.car.y = h * 0.25;
            }

            draw() {
                const w = this.canvas.width;
                const h = this.canvas.height;
                const ctx = this.ctx;
                ctx.clearRect(0, 0, w, h);
                const keyWidth = w * 0.08;
                const keyHeight = h / 7;
                ctx.save();
                ctx.fillStyle = 'white';
                ctx.fillRect(0, 0, keyWidth, h);
                ctx.strokeStyle = '#999';
                ctx.lineWidth = 1;
                for(let i=0; i<7; i++) ctx.strokeRect(0, i*keyHeight, keyWidth, keyHeight);
                ctx.fillStyle = '#333';
                for(let i=0; i<7; i++) if (i!==2 && i!==6) ctx.fillRect(0, i*keyHeight + keyHeight*0.7, keyWidth*0.6, keyHeight*0.6);
                ctx.restore();
                const startX = keyWidth + 10;
                ctx.lineWidth = 1.5;
                ctx.strokeStyle = '#2EC4B6';
                const staffBaseY = [h*0.2, h*0.32, h*0.44, h*0.56, h*0.68];
                staffBaseY.forEach((y) => {
                    ctx.beginPath(); ctx.moveTo(startX, y); ctx.lineTo(w - 10, y); ctx.stroke();
                });
                this.drawCar(startX, w - 10, h);
            }

            drawCar(startX, endX, h) {
                const ctx = this.ctx;
                ctx.save();
                ctx.translate(this.car.x, this.car.y);
                ctx.rotate(this.car.angle);
                ctx.scale(-1, 1); 
                ctx.font = `${h * 0.15}px sans-serif`;
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText('ğŸš—', 0, 0);
                if (this.isAnimating && this.currentText) {
                     ctx.scale(-1, 1);
                     ctx.fillStyle = '#333';
                     ctx.font = 'bold 20px å¾®è»Ÿæ­£é»‘é«”';
                     ctx.fillText(this.currentText, 0, -h*0.1);
                }
                ctx.restore();
            }

            update() {
                if (!this.isAnimating) return;
                this.progress += this.speed;
                if (this.progress >= 1) {
                    this.progress = 1;
                    this.isAnimating = false;
                }
                const t = this.progress;
                const w = this.canvas.width;
                const h = this.canvas.height;
                const startX = (w * 0.08) + 40; 
                const endX = w * 0.9;
                const highY = h * 0.25;
                const midY = h * 0.5;
                const lowY = h * 0.75;
                let tx, ty, angle;
                if (this.currentTone === 1) { 
                    tx = startX + (endX - startX) * t; ty = highY; angle = 0;
                } else if (this.currentTone === 2) { 
                    tx = startX + (endX - startX) * t; ty = lowY + (highY - lowY) * t;
                    angle = -Math.atan2(lowY - highY, endX - startX);
                } else if (this.currentTone === 3) { 
                    const p0 = {x: startX, y: midY}, p1 = {x: startX + (endX-startX)*0.5, y: h*0.9}, p2 = {x: endX, y: highY + 15};
                    tx = (1-t)*(1-t) * p0.x + 2*(1-t)*t * p1.x + t*t * p2.x;
                    ty = (1-t)*(1-t) * p0.y + 2*(1-t)*t * p1.y + t*t * p2.y;
                    angle = -Math.atan2(2*(1-t)*(p1.y-p0.y)+2*t*(p2.y-p1.y), 2*(1-t)*(p1.x-p0.x)+2*t*(p2.x-p1.x));
                } else if (this.currentTone === 4) { 
                    tx = startX + (endX - startX) * t; ty = highY + (lowY - highY) * t;
                    angle = -Math.atan2(highY - lowY, endX - startX);
                }
                this.car.x = tx; this.car.y = ty; this.car.angle = angle;
            }

            loop() { this.draw(); this.update(); requestAnimationFrame(this.loop); }

            toggleQuizMode() {
                this.quizMode = !this.quizMode;
                const quizArea = document.getElementById('quiz-area');
                const toneControls = document.getElementById('tone-controls');
                const toggleBtn = document.getElementById('toggle-quiz-btn');
                if (this.quizMode) {
                    quizArea.classList.add('quiz-active');
                    toneControls.style.display = 'none'; 
                    toggleBtn.innerText = "âŒ çµæŸç·´ç¿’æ¨¡å¼";
                    document.getElementById('status-text').innerText = "ç·´ç¿’æ¨¡å¼ï¼šè«‹æŒ‰ä¸‹æ–¹æ’­æ”¾é¡Œç›®";
                    document.getElementById('quiz-step-2').style.display = 'none';
                    document.getElementById('feedback').innerText = "";
                } else {
                    quizArea.classList.remove('quiz-active');
                    toneControls.style.display = 'flex';
                    toggleBtn.innerText = "ğŸ“ é€²å…¥ç·´ç¿’æ¨¡å¼";
                    document.getElementById('status-text').innerText = "å›åˆ°è‡ªç”±æ¨¡å¼ã€‚";
                }
            }

            async playQuizSound() {
                this.targetTone = Math.floor(Math.random() * 4) + 1;
                this.setLoading(true, "å‡ºé¡Œä¸­...", true); 
                const keys = Object.keys(ZHUYIN_DICT);
                const randomKey = keys[Math.floor(Math.random() * keys.length)];
                this.currentQuizText = randomKey; 
                try {
                    const dictEntry = ZHUYIN_DICT[randomKey];
                    if (!dictEntry[this.targetTone]) { this.playQuizSound(); return; }
                    const text = dictEntry[this.targetTone]; 
                    this.currentQuizChar = text; 
                    await this.manager.browserTTS(text, 0.45, 2); 
                    this.setLoading(false, "è«‹è½é¡Œï¼", true);
                    document.getElementById('quiz-step-2').style.display = 'block';
                    document.getElementById('feedback').innerText = "";
                } catch(e) { this.setLoading(false, "å‡ºé¡Œå¤±æ•—"); }
            }

            async replayQuizSound() {
                if (!this.currentQuizChar) return;
                this.setLoading(true, "å†æ¬¡æ’­æ”¾...", true);
                await this.manager.browserTTS(this.currentQuizChar, 0.45, 2); 
                this.setLoading(false, "è«‹é¸æ“‡ç­”æ¡ˆ", true);
            }

            checkAnswer(ans) {
                if (!this.targetTone) return;
                const fb = document.getElementById('feedback');
                const quizArea = document.getElementById('quiz-area');
                if (ans === this.targetTone) {
                    const symbol = this.getToneSymbol(this.targetTone);
                    fb.innerHTML = `<span style="color:var(--correct-color)">ğŸ‰ ç­”å°äº†ï¼é€™æ˜¯ã€Œ${this.currentQuizChar}ã€(${this.currentQuizText}${symbol})</span>`;
                    this.playTone(this.targetTone, true, 0.6); 
                    this.targetTone = null;
                    document.getElementById('quiz-step-2').style.display = 'none';
                } else {
                    fb.innerHTML = `<span style="color:var(--wrong-color)">ğŸ¤” ä¸å°å–”ï¼Œè«‹å†è½ä¸€æ¬¡ï¼</span>`;
                    quizArea.classList.remove('shake');
                    void quizArea.offsetWidth;
                    quizArea.classList.add('shake');
                }
            }
        }
        const app = new ToneApp();
    </script>
</body>
</html>
